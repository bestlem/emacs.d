#+TITLE Emacs configuration Spell if not in Aquamacs
#+PROPERTY:header-args :cache yes :tangle yes :comments link

This is mainly taken from [[https://github.com/howardabrams/dot-files][Howard Abrams]]


* Spell Checking
:PROPERTIES:
:ID:       org_mark_2020-09-29T11-53-58+01-00_mini12.local:A30A8887-7787-4301-BB7D-6ECB558906B7
:END:

Spell checking with [[http://www.emacswiki.org/emacs/FlySpell][FlySpell]], which uses the built-in settings of [[https://www.gnu.org/software/ispell/][ispell]].   The [[http://aspell.net][ASpell]] project is better supported than ISpell, and it seems to be better than Hunspell for programming modes.
However enchant has an interface to the Apple dictionary

Start for all text modes (but not for log files):

   #+NAME: org_mark_2020-09-29T11-53-58+01-00_mini12.local_495114A0-DDED-47C8-95EB-92DD64E002A0
#+BEGIN_SRC emacs-lisp
(use-package flyspell
  ;; :ensure t
  :unless *aquamacs*
  :defer 20
  :commands flyspell-mode
  :init
  (setq ispell-dictionary "en_GB")

  (cond ((executable-find "enchant-2")
		 (setq-default ispell-program-name "enchant-2"))
		((executable-find "aspell")
		 (setq-default ispell-program-name "aspell")
		 (setq ispell-extra-args '("--sug-mode=normal"))
		 (setq ispell-dictionary "british-ize"))
        ((executable-find "hunspell")
		 (setq-default ispell-program-name "hunspell")
		 (setq ispell-really-hunspell t)))
  (message "--------------------------In flyspell init")
  :config
  ;; Popup window for spellchecking
  ;; (use-package flyspell-correct
  ;;   :ensure t
  ;;   :after flyspell
  ;;   :bind (:map flyspell-mode-map ("C-;" . flyspell-correct-wrapper)))
  ;; (use-package flyspell-correct-popup :ensure t
  ;;   :after flyspell-correct)
  (message "--------------------------In flyspell config")
  (add-hook 'prog-mode-hook 'flyspell-prog-mode)
  (dolist (hook '(text-mode-hook org-mode-hook))
    (add-hook hook (lambda () (flyspell-mode 1))))
  (dolist (hook '(change-log-mode-hook log-edit-mode-hook org-agenda-mode-hook))
    (add-hook hook (lambda () (flyspell-mode -1)))))
   #+END_SRC

ASpell automatically configures a personal dictionary  at =~/.aspell.en.pws=, so no need to configure that.

A possibly nifty feature of aspell is the ability to spellcheck individual words in CamelCase that is used extensively in some code (for details, see [[http://blog.binchen.org/posts/what-s-the-best-spell-check-set-up-in-emacs.html][this article]]).

But I don't do camel case :)
