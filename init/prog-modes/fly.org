#+TITLE Emacs configuration org Check on the fly
#+PROPERTY:header-args :cache yes :tangle yes  :comments link

* Report on the fly
:PROPERTIES:
:ID:       org_mark_2020-11-09T11-32-01+00-00_mini12.local:0ECCD41D-B2B9-4183-A618-D1256CA9090F
:END:
** Spellcheck comments
:PROPERTIES:
:ID:       org_mark_2020-11-09T11-32-01+00-00_mini12.local:15BE314B-C570-410A-B613-4830D1424173
:END:
From [[https://www.emacswiki.org/emacs/FlySpell#toc2][Emacs Wiki]]
#+NAME: org_mark_2020-11-09T11-32-01+00-00_mini12.local_FF77B281-6EF6-4E33-AF12-0BECC8930426
#+begin_src emacs-lisp
(add-hook 'prog-mode-hook
          #'flyspell-prog-mode)
#+end_src
*** TODO keys etc
:PROPERTIES:
:ID:       org_2020-12-02+00-00:9303336C-3D74-4225-9A72-98D5AF250F76
:END:
Look at https://github.com/IvanMalison/dotfiles/tree/master/dotfiles/emacs.d
** TODO Flymake
:PROPERTIES:
:ID:       org_mark_2020-01-24T12-43-54+00-00_mini12:6D225364-60B5-4C41-A802-CFBE5E7E6F2A
:END:
  Need to start from scratch. I do have it for emacs but as code in org mode not an elisp file a bit of a waste
  #+NAME: org_mark_2020-01-24T12-43-54+00-00_mini12_57ABBF6F-52E5-4B09-81FB-4B71119DE3DC
  #+begin_src emacs-lisp
(use-package flymake
  ;; :unless (version< emacs-version "26.1")
  :disabled
  :diminish
  :hook ((sh-mode json-mode nxml-mode python-mode emacs-lisp-mode lisp-interaction-mode) . flymake-mode-on)
  :config (flymake-mode-on))
  #+end_src
** Flycheck
:PROPERTIES:
:ID:       org_mark_2020-01-24T12-43-54+00-00_mini12:2D0EB2E3-8745-45CE-9B24-937DB5282589
:END:
	 I have seen comments that for emacs <26 this is definitely better
	 #+begin_src emacs-lisp
(use-package flycheck
  :ensure t
  ;; :when (version< emacs-version "26.1")
  :diminish
  :init (global-flycheck-mode) ; for all

  ;; I don't like `global-flycheck-mode', some mode, such as elisp mode
  ;; don't need.
  ;;  racket seems to have issues with this and company

  ;; :hook (racket-mode . flycheck-mode )
  (setq-default flycheck-disabled-checkers '(emacs-lisp-checkdoc))
  :config
  <<flycheck-hydra>>
  :custom
  (flycheck-display-errors-delay 0.3))
     #+end_src
*** Hydra to control
:PROPERTIES:
:ID:       org_mark_2020-01-24T12-43-54+00-00_mini12:48CD7AF6-DA56-471F-98EF-51C816A565FFy
:END:
#+NAME: flycheck-hydra
#+begin_src emacs-lisp :tangle no
(defhydra hydra-flycheck (:color blue)
  "
  ^
  ^Flycheck^          ^Errors^            ^Checker^
  ^────────^──────────^──────^────────────^───────^─────
  _q_ quit            _<_ previous        _?_ describe
  _M_ manual          _>_ next            _d_ disable
  _v_ verify setup    _f_ check           _m_ mode
  ^^                  _l_ list            _s_ select
  ^^                  ^^                  ^^
  "
  ("q" nil)
  ("<" flycheck-previous-error :color pink)
  (">" flycheck-next-error :color pink)
  ("?" flycheck-describe-checker)
  ("M" flycheck-manual)
  ("d" flycheck-disable-checker)
  ("f" flycheck-buffer)
  ("l" flycheck-list-errors)
  ("m" flycheck-mode)
  ("s" flycheck-select-checker)
  ("v" flycheck-verify-setup))

(bind-key "H-c" 'hydra-flycheck/body)
	 #+end_src
